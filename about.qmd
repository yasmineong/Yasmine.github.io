---
title: "About"
---

Welcome again!

Stay tuned to see what I will be doing...

# Dataset

For my analysis, I will be looking at a dataset about cars that was found on Kaggle: https://www.kaggle.com/datasets/ayushparwal2026/cars-dataset.


**Title**: Cars Dataset

**Description**:
The Cars Dataset contains information about various car models, including their specifications and pricing details in certain parts of India. It a collection of attributes related to different car models, possibly intended for analysis, modeling, or machine learning tasks related to the automotive industry.

**Attributes**:
```{r, echo = F, eval = T} 
bullet_list <- c(
  " Brand & Model",
  "Location: Certain cities in India",
  "Year",
  "Kilometers driven",
  "Fuel type",
  "Transmission type",
  "Owner type",
  "Mileage: How many kilometers the vehicle can travel per litre of fuel",
  "Engine: Measured in cubic capacity (CC). It refers to the amount of air and fuel that can be pushed through the cylinders in the engine. In most cases, the bigger the capacity, the more powerful the vehicle.",
  "Power: Measured in brake horsepower (BHP). It refers to the horsepower of the car after accounting for the frictional losses in power from the engine. Generally, a higher BHP means increased speed, strength, and overall capabilities on the road. ",
  "Number of seats",
  "Price: 1 Lakh = 100,000"
)
cat(paste(". ", bullet_list, "\n", sep = ""))
```

**Potential Use Cases**:
This dataset could be used for various analytical purposes, including:
```{r, echo = F, eval = T} 
bullet_list <- c(
  " Exploratory data analysis (EDA) to understand trends and patterns in the automotive market.",
  "Predictive modeling to estimate car prices based on their specifications.",
  "Classification tasks to predict car types or fuel efficiency based on attributes.",
  "Market research to understand consumer preferences and buying behavior in the automotive industry.",
  "Academic research in fields like transportation engineering, automotive engineering, data science, and machine learning.",
  "Product development",
  "Risk assessment"
  )
cat(paste(". ", bullet_list, "\n", sep = ""))
```


```{r, echo = F}
library(tidyverse)
```

```{r, echo = F}
new_cars <- read.csv("used_cars_data.csv")
glimpse(new_cars)
```

# Tidying data

```{r, echo = F}
cars1 <- new_cars %>%
  separate(Mileage, into = c("Mileage_v", "Mileage_unit"), sep = " ")

cars2 <- cars1 %>%
  separate(Name, into = c("Brand", "Model"), sep = " ", extra = "merge") %>%
  mutate(Brand = case_when(
    Brand == "ISUZU" ~ "Isuzu",
    Brand == "Land" ~ "Land Rover",
    TRUE ~ Brand
  ))

cars <- cars2 %>%
  mutate("Engine/CC" = as.numeric(str_remove(Engine, "CC")),
         "Power/bhp" = as.numeric(str_remove(Power, "bhp")),
         "Mileage_value" = as.numeric(Mileage_v), 
         "Car_age" =  year(Sys.Date()) - Year
  ) %>%
  select(-c(Power, Engine, Mileage_v)) 

cars <- cars %>%
  select(Brand, Model, Location, Year, Car_age, Kilometers_Driven, Fuel_Type, Transmission, Owner_Type, Mileage_value, Mileage_unit, `Engine/CC`, `Power/bhp`, Seats, New_Price, Price)

glimpse(cars)
```


### Analysis (summary)

```{r, echo = F}
library(tidyverse)
summary(cars)
```
<br>

### 1. Lemon market: Prices of second-hand cars in India 

```{r, echo = F}
library(lubridate)
library(stringr)
cars %>%
  filter(Owner_Type == "Second") %>%
  mutate(Year = ym(str_c(Year, "-01"))) %>%
  na.omit() %>%
  group_by(Location, Year) %>%
  summarise(Price = mean(Price, na.rm = T)) %>%
  ggplot(aes(x = Year, y = Price)) +
  geom_line() +
  labs(title = "Prices of second hand cars in different parts of India against time") +
  facet_wrap(~ Location, nrow = 4, scales = "free_y") +
  theme_bw() +
  theme(axis.text.x = element_text(angle = 60, size = 7, vjust = 0.5))

```


```{r, echo = F}
cars %>%
  filter(Owner_Type == "Second") %>%
  mutate(Year = ym(str_c(Year, "-01"))) %>%
  na.omit() %>%
  group_by(Year) %>%
  summarise(Price = mean(Price, na.rm = T)) %>%
  ggplot(aes(x = Year, y = Price)) +
  geom_line() +
  geom_point(colour = "red") +
  labs(title = "Overall prices of second hand cars in India against time") +
  theme_bw() 
```
<br>

### 2. Carbon emissions? Average kilometers driven in India

One outlier from Chennai removed
```{r, echo = F}
cars %>%
  filter(Kilometers_Driven <= 4e+06) %>%
  mutate(Year = ym(str_c(Year, "-01"))) %>%
  na.omit() %>%
  group_by(Year, Location) %>%
  summarise(Ave_km_driven = mean(Kilometers_Driven, na.rm = T)) %>%
  ggplot(aes(x = Year, y = Ave_km_driven)) +
  geom_point() +
  geom_smooth(se = FALSE) +
  labs(title = "Graph of average kilometers driven in each part of India against time",
       x = "Year",
       y = "Average kilometers driven")
```
<br>
```{=html}
<iframe height="400" width="100%" frameborder="no" src="https://cc01lz-yasmineong.shinyapps.io/MyShinyApp/"> </iframe>
```
<br>

### 3. Preferences and car usage in India 

```{r, echo = F}
library(patchwork)
plot1 <- cars %>%
  ggplot(aes(x = Fuel_Type)) +
  geom_bar(fill = "#0AE1FB") +
  labs(title = "Count of cars per fuel type",
       x = "Fuel type",
       y = "Count") +
   theme(plot.title = element_text(size = 10),
         axis.title.x = element_text(size = 8),
         axis.title.y = element_text(size = 8))

plot2 <- cars %>%
  ggplot(aes(x = Transmission)) +
  geom_bar(fill = "red") +
  labs(title = "Count of cars per transmission type",
       x = "Transmission type",
       y = "Count") +
   theme(plot.title = element_text(size = 10),
         axis.title.x = element_text(size = 8),
         axis.title.y = element_text(size = 8))

plot3 <- cars %>%
  ggplot(aes(x = Owner_Type)) +
  geom_bar(fill = "#0AFBBD") +
  labs(title = "Count of cars per owner type",
       x = "Owner type",
       y = "Count") +
   theme(plot.title = element_text(size = 10),
         axis.title.x = element_text(size = 8),
         axis.title.y = element_text(size = 8))

plot4 <- cars %>%
  ggplot(aes(x = Brand)) +
  geom_bar(fill = "#FAA4E8") +
  labs(title = "Count of cars per brand",
       x = "Brands",
       y = "Count") +
   theme(plot.title = element_text(size = 10),
         axis.title.x = element_text(size = 8),
         axis.title.y = element_text(size = 8),
         axis.text.x = element_text(angle = 45, size = 5, vjust = 0.5))

plot5 <- cars %>%
  count(Model) %>%
  arrange(desc(n)) %>%
  head(10) %>%
  ggplot(aes(x = Model, y = n)) +
  geom_col(fill = "Black") +
  labs(title = "Count of cars per (top 10) model",
       x = "Models",
       y = "Count") +
   theme(plot.title = element_text(size = 10),
         axis.title.x = element_text(size = 8),
         axis.title.y = element_text(size = 8),
         axis.text.x = element_text(angle = 45, size = 7, vjust = 0.5))

plot6 <- cars %>%
  ggplot(aes(x = Location)) +
  geom_bar(fill = "#F5B041") +
  labs(title = "Count of cars per location",
       x = "Location",
       y = "Count") +
   theme(plot.title = element_text(size = 10),
         axis.title.x = element_text(size = 8),
         axis.title.y = element_text(size = 8),
         axis.text.x = element_text(angle = 45, size = 7, vjust = 0.5))

plot1 + plot2 + plot3 + plot4 + plot5 + plot6 + plot_layout(ncol = 2) 
```
<br>

```{r, echo = F}
library(patchwork)
market_share <- cars %>%
  group_by(Brand) %>%
  summarise(count = n()) %>%
  mutate(market_share = count / sum(count) * 100) %>%
  arrange(desc(market_share)) %>%
  head(10)
pie(market_share$market_share, 
    labels = paste(market_share$Brand, ": ", round(market_share$market_share, 2), "%"), 
    main = "Market Share Analysis by Car Brand (Top 10)",
    col = c("#004BF8", "#0080F8", "#00A9F8", "#02CEF7", "#02E8F7", "#A3F7FF", "#A3AEFF", "#C489FF", "#B603FF", "#6C03BE"),
    font = 3,
    cex = 0.8)
```
```{r, echo = F}
cars_summary <- cars %>%
  group_by(Brand) %>%
  summarise(Count = n()) %>%
  arrange(desc(Count)) %>%

top_10_brands <- cars_summary %>%
  head(10) %>%
  pull(Brand)

cars$Top_10 <- ifelse(cars$Brand %in% top_10_brands, "Top 10", "Others")

ggplot(cars, aes(x = Price, y = Brand)) +
  geom_boxplot() +
  facet_wrap(~ Top_10, scales = "free_y") +
  labs(title = "Price Ranges for Each Car Brand", 
       x = "Price", 
       y = "Brand") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) 
```
<br>

Maruti seems to be the most popular car brand that Indian consumers go for. Upon further inspection into the prices of the individual car brands, we seem to see a preference for the lowest costing car (Maruti) among the top 10.

```{r, echo = F}
graph1 <- cars %>%
  na.omit() %>%
  ggplot(aes(x = Price, fill = Transmission)) +
  geom_density(adjust = 0.5) 

graph2 <- cars %>%
  na.omit() %>%
  ggplot(aes(x = Car_age, fill = Transmission)) +
  geom_density(adjust = 0.5) 

graph3 <- cars %>%
  na.omit() %>%
  ggplot(aes(x = Kilometers_Driven, fill = Transmission)) +
  geom_density(adjust = 0.5) 

graph4 <- cars %>%
  na.omit() %>%
  ggplot(aes(x = Mileage_value, fill = Transmission)) +
  geom_density(adjust = 0.5) 

graph5 <- cars %>%
  na.omit() %>%
  ggplot(aes(x = `Engine/CC`, fill = Transmission)) +
  geom_density(adjust = 0.5) 

graph6 <- cars %>%
  na.omit() %>%
  ggplot(aes(x = `Power/bhp`, fill = Transmission)) +
  geom_density(adjust = 0.5) 

graph7 <- cars %>%
  na.omit() %>%
  ggplot(aes(x = Seats, fill = Transmission)) +
  geom_density(adjust = 0.5) 

graph1 + graph2 + graph3 + graph4 + graph5 + graph6 + graph7 + plot_layout(ncol = 2)
```

1. Preferences for low costs, 5-seater vehicles, lower power and engine vehicles.
2. Automatic cars seem to have higher power and engine than manual cars --> More may opt for manual cars since they are of lower power and engine.
3. Cars in India do not travel very long distances.
4. Most of the histograms are highly skewed, which may lead to some poor performances of certain models.

### 4. Predictors in the market

```{r, echo = F}
library(ggcorrplot)
numerical_variables <- cars %>%
  na.omit() %>%
  select(Price, Car_age, Kilometers_Driven, Mileage_value, `Engine/CC`, `Power/bhp`, Seats) 

ggcorrplot(cor(numerical_variables),
           hc.order = TRUE,  
           lab = TRUE,
           lab_size = 2,
           outline.color = "black",  # Color of the outline
           colors = c("blue", "white", "red"),  # Color palette
           title = "Correlation Heatmap of Numerical variables")

```

1. Strongest correlation between the power and engine capacity of a car.

2. There is a strong correlation between costs and power of the car --> the higher the BHP, the higher the costs of the car which matches what vehicle analytics say. However, since customers in India tend to go for lower prices, producers need not create so many high-powered cars. Moreover, India's cities are known for their traffic congestion thus smaller, less powerful engines are practical for navigating these conditions efficient.

3. Relationship of price and engine of a car is also moderately strong. This seems to be in line with India's taxation policies: they impose higher taxes on cars with larger engines and as a result higher BHP, making such vehicles much more unafforable.

Link for reference: https://www.cars24.com/blog/what-is-bhp-in-cars/